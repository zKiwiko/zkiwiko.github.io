<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Astral</title>
    <icon href="fab fa-github"></icon>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
    />
    <link rel="stylesheet" href="themes/styles.css" />
    <link href="themes/prism.css" rel="stylesheet" />
  </head>
  <body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>

    <header>
      <h1>
        Astral
        <span class="fa-solid fa-code"></span>
      </h1>
      <p>Controller Scripting Integrated into Lua.</p>
    </header>

    <nav>
      <button class="tab-button active" data-tab="overview">Overview</button>
      <button class="tab-button" data-tab="installation">Installation</button>
      <button class="tab-button" data-tab="contributing">Contributing</button>
      <button class="tab-button" data-tab="pricing">Pricing</button>
    </nav>

    <main>
      <!-- Main tab: Overview -->
      <div id="overview" class="tab-content active">
        <h2>Overview</h2>
        <p>
          Astral is a program that takes Controller Scripting ideas from other
          Scripting devices and intergrates the functionality into Lua lang
          using the ViGEm Bus Driver. The purpose of Astral is to make Video
          Game companies crack down on Scripting Hardware and software to bring
          a safer place for gamers on any game.<br /><br />Astral uses a
          combination of Libraries and Drivers in order to have the best
          functionality possible.<br /><br />
          <a href="https://github.com/nefarius/HidHide">HIDHide</a>: To remove
          duplicate inputs.<br /><a
            href="https://github.com/nefarius/ViGEmClient"
            >ViGEm Client</a
          >: For Controller emulation.<br /><br />Astral adds multiple Built In
          functions and Modules you can use in your Lua Script. As well as
          having an option (for select developers) to compile their scripts for
          sharing with others, without needing to risk their Code being stolen,
          resold or reclaimed. Below are tabs you can open to read about the
          Built-In functions and Modules, Aswell as Script Examples for using
          the scripts functions.<br /><br />
          Compiled Scripts (*.clua) files must be placed in any slot data folder.
          './bin/slot data/slot 1 | 2 | 3`. Afterward, in Astral you can press "Load Slot Data" to load those files to run.
          <p style="font-size: 10px; color: #444">
            Astral is a Closed Source project that is not affiliated with
            Mircosoft or Sony. Any Registered Trademark mentions throught this
            site belong to their respective owner.
          </p>
        </p>

        <!-- Sub-tabs navigation -->
        <nav class="sub-nav">
          <button class="sub-tab-button active" data-tab="Functions">Functions</button>
          <button class="sub-tab-button" data-tab="Modules">Modules</button>
          <button class="sub-tab-button" data-tab="Examples">Code Examples</button>
          <button class="sub-tab-button" data-tab="ValidInputs">Valid Inputs</button>
        </nav>

        <!-- Sub-tab content -->
        <div id="Functions" class="sub-tab-content active">
          <h3>Logical Functions</h3>
          <hr class="dim-seperator" />
          <h4>Main</h4>
          <p>
            the `Main` function is required for your Lua Script to run. It
            allows declared variables outside of `Main` to not be reset by the
            Lua loop Astral uses.<br />All main logic should be in your main
            function in the Main file. You dont need a `Main` in files that
            arent the main file youre running.
          </p>
          <h5>Syntax</h5>
          <pre><code class="language-lua">function Main()
    -- code here
end</code></pre>
          <h5>Parameters</h5>
          <p>
            The `Main` function doesnt need to hold any parameters as it doesnt
            need to be called, Astral will run it automatically.
          </p>

            <hr class="dim-seperator" />
            <h4>init</h4>
          <p>
            The `init` function is required to have to create the virtual
            controller.
          </p>
            <h5>Syntax</h5>
            <pre><code class="language-lua">init(int)</code></pre>
            <h5>Parameters</h5>
            <p>`init` holds 1 parameter, that being an integer of 0 or 1.</p>
            <pre><code class="language-lua">init(0) -- will create a virtual X360 Controller
init(1) -- will create a virtual DualShock 4 Controller</code></pre>

            <hr class="dim-seperator" />

            <h4>loopbreak</h4>
            <h5>Syntax</h5>
            <p>`loopbreak` is a function to break out of the Main loop early.</p>
            <pre><code class="language-lua">loopbreak()</code></pre>
            <h5>Parameters</h5>
            <p>`loopbreak` doesnt take any parameters.</p>
            <hr class="dim-seperator"/>
            
            <h4>loopctrl</h4>
            <p>Change the current speed at which the Lua scripts update. Aswell as controller remap updates.</p>
            <h5>Syntax</h5>
            <pre><code class="language-lua">loopctrl(int)</code></pre>
            <h5>Parameters</h5>
            <p>`loopctrl` takes an integer parameter representing the speed at which the Lua scripts update. The higher the number, the slower the updates. The default speed is 16 for 60 FPS.</p>
            <pre><code class="language-lua">loopctrl(50) -- will set the Lua scripts update speed to 50</code></pre>
            <hr class="dim-seperator"/>

            <h4>get_loopctrl</h4>
            <p>Returns the current speed at which the Lua scripts update.</p>
            <h5>Syntax</h5>
            <pre><code class="language-lua">get_loopctrl()</code></pre>
            <h5>Parameters</h5>
            <p>`get_loopctrl` returns an integer representing the current speed at which the Lua scripts update.</p>
            <pre><code class="language-lua">print(get_loopctrl()) -- will print the current Lua scripts update speed.</code></pre>
            <hr class="dim-seperator"/>

            <h3>Controller Functions</h3>
            <hr class="dim-seperator" />

            <h4>get_val</h4>
            <p>Returns the current state of a button. 0 for unpressed, 1 or pressed.</p>
            <h5>Syntax</h5>
            <pre><code class="language-lua">get_val(string)</code></pre>
            <h5>Parameters</h5>
            <p>`get_val` takes a string parameter representing the button you want to check. The button names are case sensitive and must be capital.</p>
            <pre><code class="language-lua">print(get_val("A")) -- will print the state of the button.</code></pre>
            <hr class="dim-seperator"/>


            <h4>get_axis</h4>
            <p>Returns the value of a given axis.</p>
            <h5>Syntax</h5>
            <pre><code class="language-lua">get_axis(string)</code></pre>
            <h5>Parameters</h5>
            <p>`get_axis` takes a string parameter representing the axis you want to check. The axis names are case sensitive and must be capital.</p>
            <pre><code class="language-lua">print(get_axis("LX")) -- will print the value of the Left Stick's Right Axis</code></pre>
            <hr class="dim-seperator"/>


            <h4>get_key</h4>
            <p>Returns the state of a given key. 0 for unpressed, 1 or pressed.</p>
            <h5>Syntax</h5>
            <pre><code class="language-lua">get_key(string)</code></pre>
            <h5>Parameters</h5>
            <p>`get_key` takes a string parameter representing the key you want to check. The key names are case sensitive and must be capital.</p>
            <pre><code class="language-lua">print(get_key("X")) -- will print the state of the X key on your keyboard.</code></pre>
            <hr class="dim-seperator"/>


            <h4>get_press</h4>
            <p>Returns 1 if a given key is just pressed, otherwise returns 0.</p>
            <h5>Syntax</h5>
            <pre><code class="language-lua">get_press(string)</code></pre>
            <h5>Parameters</h5>
            <p>`get_press` takes a string parameter representing the button you want to check for a press. The button names are case sensitive and must be capital.</p>
            <pre><code class="language-lua">print(get_press("A")) -- will print 1 if the A Button is just pressed.</code></pre>
            <hr class="dim-seperator"/>


            <h4>get_release</h4>
            <p>Returns 1 if a given button is just released, otherwise returns 0.</p>
            <h5>Syntax</h5>
            <pre><code class="language-lua">get_release(string)</code></pre>
            <h5>Parameters</h5>
            <p>`get_release` takes a string parameter representing the button you want to check for a release. The button names are case sensitive and must be capital.</p>
            <pre><code class="language-lua">print(get_release("A")) -- will print 1 if the A Button is just released.</code></pre>
            <hr class="dim-seperator"/>

            <h4>set_val</h4>
            <p>Sets the state of a given button to 1 for a press, 0 for a unpress.</p>
            <h5>Syntax</h5>
            <pre><code class="language-lua">set_val(string, int)</code></pre>
            <h5>Parameters</h5>
            <p>`set_val` takes two parameters, a string parameter representing the button you want to set, and an integer representing the state of the button. The state should be 0 for unpress and 1 for press.</p>
            <pre><code class="language-lua">set_val("A", 1) -- will set the A Button to a press.</code></pre>
            <hr class="dim-seperator"/>

            <h4>set_axis</h4>
            <p>Sets the value of a given axis.</p>
            <h5>Syntax</h5>
            <pre><code class="language-lua">set_axis(string, int)</code></pre>
            <h5>Parameters</h5>
            <p>`set_axis` takes two parameters, a string parameter representing the axis you want to set, and a integer representing the axis' value. The value should be between -32767 and 32767.</p>
            <pre><code class="language-lua">set_axis("LX", 32767) -- will set the Left Stick's Right Axis to 32767 (fully right).</code></pre>
            <hr class="dim-seperator"/>

            <h4>polar_axis</h4>
            <p>Spins a given stick.</p>
            <h5>Syntax</h5>
            <pre><code class="language-lua">polar_axis(string, int: Radius, int: Speed)</code></pre>
            <h5>Parameters</h5>
            <p>`polar_axis` takes three parameters, a string parameter representing the stick you want to spin, an integer representing the radius of the spin / size of the spin, and an integer representing the speed of the spin. The radius should be between 0 and 100, and the speed can be any integer, but recommended to be 0 - 360.</p>
            <hr class="dim-seperator"/>

        </div>

        <div id="Modules" class="sub-tab-content">
            <h3>Modules</h3>
            <p>These modules are usable within your scripts to provide extra functionality for your scripts.</p>
            <hr class="dim-seperator"/>

            <h4>cmath</h4>
            <p>The cmath module adds a couple math functions that are calculated in C++. Aswell as adding QOL math functions for convience.</p>
            <h5>Importing</h5>
            <pre><code class="language-lua">m = require("cmath")</code></pre>
            <h5>Functions</h5>
            <pre><code class="language-lua">m.convert(Integer | float)</code></pre>
            <p>The `convert` function will convert the number you enter inside its parameter to a given stick resolution. I.e; if you put in "100" itll output 32767.</p>
            <pre><code class="language-lua">m.clamp(Integer | float, Integer | float, Integer | float)</code></pre>
            <p>The `clamp` function will limit the number to the provided range. I.e; if you do "m.clamp(100, 50, 90)"; itll output 90 as thats the clamped range.</p>
            <hr class="dim-seperator"/>

            <h4>globals</h4>
            <p>The globals module gives access to predefined variables usable in your scripts.</p>
            <h5>Importing</h5>
            <pre><code class="language-lua">g = require("globals")</code></pre>
            <h5>Variables</h5>
            <pre><code class="language-lua">g.default</code></pre>
            <p>This variable holds the default value of 0.</p>
            <pre><code class="language-lua">g.set</code></pre>
            <p>This function sets the default value of 32767. and can be inverted for a negative value.</p>
            <pre><code class="language-lua">g.unset</code></pre>
            <p>This function sets the default value back to 0.</p>
            <pre><code class="language-lua">g.res[int]</code></pre>
            <p>This variable holds stick resolution numbers that equate to the integer inside its parameter as long as its between -100 and 100. Stick resolutions can be viewed <a href="https://github.com/zKiwiko/Stick-Resolutions">Here</a>. Negative values also work. so -100 will output -32767.</p>
            <hr class="dim-seperator"/>


            <h4>https</h4>
            <p>The https module allows you to make HTTPS requests using Lua. It's useful for making web requests and interacting with APIs.</p>
            <h5>Importing</h5>
            <pre><code class="language-lua">h = require("https")</code></pre>
            <h5>Functions</h5>
            <pre><code class="language-lua">h.get(string: URL, string: Data (json format))</code></pre>
            <p>The `get` function sends a GET request to the provided URL and returns the response body as a string. If the request is successful, it will return the body. If there's an error, it will return an error message.</p>
            <pre><code class="language-lua">h.post(string: URL, string: Data (json format))</code></pre>
            <p>The `post` function sends a POST request to the provided URL.</p>
            <pre><code class="language-lua">h.put(string: URL, string: Data (json format))</code></pre>
            <p>The `put` function sends a PUT request to the provided URL.</p>
            <pre><code class="language-lua">h.delete(string: URL, string: Data)</code></pre>
            <p>The `delete` function sends a DELETE request of the given Data, to the URL.</p>
            <hr class="dim-seperator"/>

        </div>

        <div id="ValidInputs" class="sub-tab-content">
            <h3>Buttons</h3>
            <hr class="dim-seperator"/>

            <p>
                "A" -> A (Xbox), X (PS),        B (Switch) <br>
                "B" -> B (Xbox), Circle (PS),   A (Switch) <br>
                "X" -> X (Xbox), Square (PS),   Y (Switch) <br>
                "Y" -> Y (Xbox), Triangle (PS), X (Switch) <br><br>

                "UP" -> Up Dpad <br>
                "DOWN" -> Down Dpad <br>
                "LEFT" -> Left Dpad <br>
                "RIGHT" -> Right Dpad <br><br>

                "LB" -> LB (Xbox), L1 (PS), ZL (Switch) <br>
                "RB" -> RB (Xbox), R1 (PS), ZR (Switch) <br><br>

                "LS" -> LS (Xbox), L3 (PS), LS (Switch) <br>
                "RS" -> RS (Xbox), R3 (PS), RS (Switch) <br><br>

                "MENU" -> Menu (Xbox), Options (PS), Plus (Switch) <br>
                "VIEW" -> View (Xbox), Share (PS), Minus (Switch) <br>
                "GUIDE" -> Xbox Home Button, PS Dashboard Button, Switch Home Button. <br>

            </p>
            <h3>Axis</h3>
            <hr class="dim-seperator"/>
            <p>
                "LX" -> Left Stick X Axis (Left and Right)<br>
                "LY" -> Left Stick Y Axis (Up and Down)<br>
                "RX" -> Right Stick X Axis (Left and Right)<br>
                "RY" -> Right Stick Y Axis (Up and Down)<br><br>

                "PL" -> Left Stick (for set_polar function)<br>
                "PR" -> Right Stick (for set_polar function)<br>
            </p>
        </div>

        <div id="Examples" class="sub-tab-content">
          <h3>Requiring Other Files</h3>
          <hr class="dim-seperator"/>
          <p>
            Requiring other files into your main lua file can be important for using user created modules, or organizing your code.<br>
            Astral uses a different way of importing files than regular lua. If your directory looks like: <br><br>
            main.lua <br>
            include <br>
            |_ functions.lua <br><br>
            If you wanted to import the functions.lua file into your main.lua file, need to do the following:<br><br>

            <pre><code class="language-lua">
-- Main.lua file
require("functions")
-- optionally you can assign it to a variable
f = require("functions")

function Main()
  f.add(10, 10) -- if you assigned it to a variable
  add(10, 10) -- if you didnt assign it to a variable
  loopbreak()
end

-- functions.lua file
local func = {}

function func.add(a, b)
  return a + b 
end

return func
            </code></pre>
            With Astral you do not need to specify the folder the file is in with something like "require("include.functions")" <br>
            you would just write the name of the file without the .lua extension.
          </p>

        </div>

      </div>

      <!-- Main tab: Installation -->
      <div id="installation" class="tab-content">
        <h2>Prerequisites</h2>
        <p>
          At this time, Astral doesnt support XInput based controllers. This
          includes but isnt limited to:<br />- Xbox 360 Controllers.<br />- Xbox
          One & One S Controllers.<br />- Xbox Series X|S Controllers.<br />-
          Xbox One elite series One & Two Controllers.<br />- GameSir G7 SE<br />-
          GameSir G7 HE<br />- PowerA Xbox Controllers<br />- Razer Wolverine
          v1, v2, & v3<br /><br />Known supported Controllers:<br />- DualSense
          Controllers<br />- DualSense Edge Controllers<br />- DualShock 4
          Controllers<br />
        </p>

        <h2>Installation</h2>
        <p>
          A Few things are needed for Astral to function properly.<br /><br />Download
          and Install the
          <a href="https://github.com/nefarius/ViGEmBus">ViGEm Bus Driver</a>.
          This is necassary to be able to Create the Virtual Controller you PC
          will be taking inputs from to send to applications.<br /><br />Next
          youre required to download and install
          <a href="https://github.com/nefarius/HidHide">HIDHide</a> inorder to
          hide your Physical controller from your system so Double input doesnt
          happen, and force applications to use the Virtual Controller ViGEm
          sets up.<br /><br />Lastly, youll have to install the correct
          <a
            href="https://learn.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist?view=msvc-170"
            >VC Redist</a
          >
          version for your computer.<br /><br />After installing the required
          software. Open the 'HIDHide Configuration Client'. In the
          'Applications' tab, press the '+' at the bottom right, and go to where
          you have Astral installed. Click on the 'Astral.exe' file and click
          the 'Open' button in your file explorer. This will add Astral to the
          white list and allow it to be able to see your controller.<br /><br />In
          the 'Devices' tab, click the check box next to the name of your
          controller. Afterwards, you should see a Red Lock appear next to it.
          At the bottom Left of this tab, click the Check Box next to 'Enable
          Device Hiding'. This will hide your controller from the rest of your
          computer.<br /><br />Now download Astral from
          <a href="https://github.com/zKiwiko/Astral">the Github Repository</a
          >.<br /><br />If you need installation support, please join my discord
          and ask for help.
        </p>
        <h2></h2>
      </div>

      <div id="contributing" class="tab-content">
        <h2>Contributing</h2>
        <p>
          To contribute to the Astral Project Create a Pull Request for new
          features, or an issue report for any bugs found in the project to the
          <a href="https://github.com/zKiwiko/Astral">Github Repository</a> or
          Discord Server.<br /><br />Users will be Credited here for bug reports
          and requested features.
        </p>
      </div>

      <div id="pricing" class="tab-content">
        <h2>Pricing</h2>
        <p>
          Astral is FREE project, but donations are greatly appreciate to help
          with maintaining the project.
        </p>
      </div>
    </main>

    <footer>
      <p>&copy; 2024 kiwiko</p>
      <p>
        <a href="https://github.com/zKiwiko/">
          <span class="social-icon fab fa-github"></span>
        </a>
        <a href="https://discord.gg/yourdiscordinvite">
          <span class="social-icon fab fa-discord"></span>
        </a>
      </p>
    </footer>

    <script src="/Astral/scripts/script.js"></script>
    <script src="/Astral/scripts/prism.js"></script>
  </body>
</html>
